!function(t){var e={};function r(n){if(e[n])return e[n].exports;var s=e[n]={i:n,l:!1,exports:{}};return t[n].call(s.exports,s,s.exports,r),s.l=!0,s.exports}r.m=t,r.c=e,r.d=function(t,e,n){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},r.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var s in t)r.d(n,s,function(e){return t[e]}.bind(null,s));return n},r.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="",r(r.s=0)}([function(t,e,r){"use strict";r.r(e);var n=function(t){return null===t||""===t},s=function(t){return"string"==typeof t},i=function(t){return Array.isArray(t)},o=function(t){return!Array.isArray(t)&&"object"==typeof t&&t},a=function(t){return!0!==t&&!1!==t&&null!==t&&""!==t&&!isNaN(1*t)},u=function(t){return function(t){return"function"==typeof t}(t)||t&&"[object function]"==={}.toString.call(t)},l=function(t){return o(t)&&(e=e=>u(t[e]),["observe","unobserve","get","set","has","del"].reduce((t,r)=>t&&e(r),!0));var e},f=function(t){return o(t)&&t.__proxyTargetByCommons||!1},c=function(t){return Array.isArray(t)||"object"==typeof t},h=function(t,...e){return e.forEach(e=>{t.indexOf(e)<0&&t.push(e)}),t},p=function(t,e){var r=[];return function(t,e){e=(e=e||Object.prototype)&&!i(e)?[e]:e;var r=[];for(t=t;t&&(!e||e.indexOf(t)<0)&&"default"!==t.name;)r.push(t),t=t?Object.getPrototypeOf(t):null;return r}(t,e).forEach(t=>{h(r,...Object.getOwnPropertyNames(t))}),r},b=function(t,e,r=!1,n=!1,s=!1){var l=0,f=t.shift();if((a(f)||!0===f||!1===f)&&(l=f,f=t.shift()),!t.length)throw new Error("_merge() requires two or more array/objects.");return t.forEach((t,h)=>{(c(t)||u(t))&&(r?p(t):Object.getOwnPropertyNames(t)).forEach(u=>{var c=f[u],p=t[u];if((i(c)&&i(p)||o(c)&&o(p))&&(!0===l||l>0))f[u]=i(c)&&i(p)?[]:{},b([a(l)?l-1:l,f[u],c,p],e,r,n);else if(e(u,f,t,h))if(i(f)&&i(t))n?f[u]=p:f.push(p);else if(s)Object.defineProperty(f,u,Object.getOwnPropertyDescriptor(t,u));else try{f[u]=t[u]}catch(t){}})}),f},g=function(t,e){var r={get:(t,r)=>"__proxyTargetByCommons"===r?t:"__proxyTrapByCommons"===r?e:e.get?e.get(t,r):t[r]};return new Proxy(t,function(...t){return b(t,(t,e,r)=>!0)}({},e,r))},$=function(t){return arguments.length&&(void 0===t||void 0===t)},v=function(t){return i(t)?t:!1!==t&&0!==t&&function(t){return n(t)||$(t)||!1===t||0===t||c(t)&&!Object.keys(t).length}(t)?[]:function(t){return!s(t)&&!$(t.length)}(t)?Array.prototype.slice.call(t):o(t)?Object.values(t):[t]},d=function(t,e){var r=void 0;return c(t)&&Object.keys(t).forEach(n=>{!1!==r&&(r=e(a(n)?parseFloat(n):n,t[n]))}),r},m=function(t){return!0===t||!1===t};const y=function(t,e,r=!0,n=1){if(i(t)&&i(e)&&t.length!==e.length||o(t)&&o(e)&&Object.keys(t).length!==Object.keys(e).length)return!1;var s=function(t,e,r=!0,n=!0,s=!1,a=!1){if(i(t)&&i(e)){var u=[],l=!0;return t.forEach(t=>{if(l){var f=!1;d(e,(e,s)=>{(!f||n&&c(t))&&(f=r(t,s),(i(f)&&!f.length||o(f)&&!Object.keys(f).length)&&(f=!1),c(f)&&n&&(t=f))}),c(f)?u.push(n?f:t):m(f)?s&&!f||!s&&f?u.push(t):a&&(l=!1):u.push(f)}}),u}if(o(t)&&o(e)){u={},l=!0;return Object.keys(t).forEach(f=>{if(l){var h=r(t[f],e[f]);(i(h)&&!h.length||o(h)&&!Object.keys(h).length)&&(h=!1),c(h)?u[f]=n?h:t[f]:m(h)?s&&!h||!s&&h?u[f]=t[f]:a&&(l=!1):u[f]=h}}),u}}(t,e,(t,e)=>n>0&&(i(t)&&i(e)||o(t)&&o(e))?y(t,e,r,n-1):u(r)?r(t,e):t===e===r,!1,!1,!0);return i(s)?s.length===t.length:o(s)?Object.keys(s).length===Object.keys(t).length:s};var O=y,C=function(t,e,r={},s=!0){e=v(e).slice();for(var i=t;!$(i)&&!n(i)&&e.length;){var o=e.shift(),a=s&&l(i);if(!(a?i.get(o):c(i)?o in i:i[o]))return void(r.exists=!1);i=a?i.get(o):i[o]}return r.exists=!0,i},_=function(t,e,r=!1){for(var n=t.indexOf(e);n>-1&&(r||!1===r);)t.splice(n,1),r>0&&r--,n=t.indexOf(e);return t},x=function(t,...e){return e.forEach(e=>{e.forEach(r=>h(t,...v(e)))}),t};var E=class{constructor(t){this.$={propagationStopped:!1,defaultPrevented:!1,promisesInstance:null,promises:[]},d(t,(t,e)=>{this[t]=e})}stopPropagation(){this.$.propagationStopped=!0}get propagationStopped(){return this.$.propagationStopped}preventDefault(){this.$.defaultPrevented=!0}get defaultPrevented(){return this.$.defaultPrevented}promise(t){if(!(t instanceof Promise))throw new Error("Event.promise() must be called with a Promise.");this.$.promises.push(t),this.$.promisesInstance=null}get promises(){return!this.$.promisesInstance&&this.$.promises.length&&(this.$.promisesInstance=Promise.all(this.$.promises)),this.$.promisesInstance}};var P=class{constructor(){this.$={listeners:[]}}addListener(t,e,r={},n=null){if(u(t)&&(n=arguments.length>2?r:"",r=e,e=t,t=null),!u(e))throw new Error('Callback must be a function; "'+typeof e+'" given!');var s={eventNames:t,callback:e,params:r,tag:n,remove:()=>{_(this.$.listeners,s)}};return this.$.listeners.push(s),s}removeListener(t,e=null,r={},s=null){u(t)&&(s=arguments.length>2?r:"",r=e||{},e=t,t=null);for(var i=!1,o=0;o<this.$.listeners.length;o++)!n(t)&&!O(v(this.$.listeners[o].eventNames),v(t))||!n(e)&&this.$.listeners[o].callback!==e||!n(r)&&!O(this.$.listeners[o].params,r)||!n(s)&&this.$.listeners[o].tag!==s||(this.$.listeners[o].removeCallback&&this.$.listeners[o].removeCallback(),this.$.listeners[o].remove(),i=!0);return i}eventsAll(){var t=[];return(this.$.listeners||[]).forEach(e=>{n(e.eventNames)||(t=x(t,v(e.eventNames)))}),t}fire(t,e){var r=e instanceof E?e:new E(e);t=v(t),this.$.currentlyFiring=this.$.currentlyFiring||[];var n=function(t,e,r=null){return i(e)?t.filter(t=>r?e.filter(e=>r(t,e)).length:-1===e.indexOf(t)):[]}(t,this.$.currentlyFiring);if(n.length){x(this.$.currentlyFiring,n);for(var s=0;s<(this.$.listeners||[]).length;s++)if(!r.propagationStopped){var o=this.$.listeners[s],a=o.params||{},u=v(o.eventNames).map(t=>t.replace(/\`/g,""));if((u.length?u.filter(t=>(r.bubbling&&t.indexOf(".")>-1?r.bubbling:!r.bubbling||a.allowBubbling?n:[]).filter(e=>(t+".").startsWith(e+".")).length).length:!r.bubbling||a.allowBubbling)&&this._shouldFire(o,t,r)){var l,f=this._doFire(o,t,r);!1===f||f instanceof E&&f.propagationStopped?r.stopPropagation():!1===f||f instanceof E&&f.defaultPrevented?r.preventDefault():(f instanceof Promise&&(l=f)||f instanceof E&&(l=f.promises))&&r.promise(l)}}return function(t,...e){e.forEach(e=>_(t,e))}(this.$.currentlyFiring,...n),r}}_shouldFire(t,e,r){return!0}_doFire(t,e,r){var o=r.context||{},a=r._context||{};if(!n(t.eventNames)){var u=[],l=[];v(t.eventNames).forEach(t=>{t=s(t)?t.split("."):t,u.push(C(o,t)),l.push(C(a,t))});return i(t.eventNames)?t.callback(u,l,r):t.callback(u[0],l[0],r)}u={},l={};return e.forEach(t=>{var e=s(t)?t.split("."):t;u[t]=C(o,e),l[t]=C(a,e)}),t.callback(u,l,r)}};const j=class extends P{constructor(t={},e={}){super(),this.$.params=function(...t){return b(t,(t,e,r)=>{if(i(e)&&i(r)){if(-1===e.indexOf(r[t]))return!0}else if(!(t in e))return!0})}({},e,j.params),this.$.bubblers={},this.$.state=t,this.$._state=i(t)?t.slice():function(t,e=[]){var r=0;return a(arguments[0])&&c(arguments[1])&&(r=arguments[0],t=arguments[1],e=arguments[2]||[]),b([r,{},t],(t,r,n)=>u(e)?e(t):!i(e)||!e.length||e.indexOf(t)>-1,!1,!1,!1)}(1,t),d(this.$.state,(t,e)=>{this._incoming(t,e)})}observe(...t){return this.addListener(...t)}unobserve(...t){return this.removeListener(...t)}set(t,e){var r={};s(t)||"number"==typeof t?r[t]=e:i(t)?t.forEach(t=>{r[t]=e}):o(t)&&(r=t);var n=Object.keys(r);i(this.$.state)&&(n=n.map(t=>parseInt(t)));var a=[];n.forEach(t=>{t in this.$.state?this._outgoing(t,this.$.state[t]):a.push(t);var e,n=r[t];if(f(n)){var s=f(e=n)?e.__proxyTargetByCommons:void 0;l(s)&&(n=s)}this._incoming(t,n),this.$.state[t]=n});var u=this.fire(n,{context:this.$.state,_context:this.$._state,entries:a,exits:[]});return n.forEach(t=>{this.$._state[t]=this.$.state[t]}),u}del(t){var e=v(t),r=[];e.forEach(t=>{t in this.$.state&&(r.push(t),this._outgoing(t,this.$.state[t])),delete this.$.state[t]});var n=this.fire(e,{context:this.$.state,_context:this.$._state,entries:[],exits:r});return e.forEach(t=>{delete this.$._state[t]}),n}asOwnMethod(t){if(s(t)&&this.$.params.methodPrefix&&t.startsWith(this.$.params.methodPrefix)){var e=t.substr(this.$.params.methodPrefix.length);if(e&&u(e=this[e]))return e.bind(this)}}get(t){var e=this.asOwnMethod(t);if(e)return e;var r=this.$.state[t];return i(this.$.state)&&!a(t)&&u(r)?(...t)=>{var e,n=this.$.state.slice(),s=r.apply(this.$.state,t),i=(e=Object.keys(n).concat(Object.keys(this.$.state)),e.filter((t,e,r)=>r.indexOf(t)===e)).filter(t=>{if(t=parseInt(t),this.$.state[t]!==n[t])return t in this.$.state?this._incoming(t,this.$.state[t]):this._outgoing(t,n[t]),!0});return i.length&&(this.fire(i,{context:this.$.state,_context:this.$._state}),this.$._state=this.$.state.slice()),s}:r}has(t){return t in this.$.state}keys(){return Object.keys(this.$.state)}_shouldFire(t,e,r){var i=0,u=0;"CACHE"in r.$||(r.$.CACHE={},r.$._CACHE={});var l=t.params||{};return(n(t.eventNames)?e:v(t.eventNames)).forEach(t=>{if(!(t in r.$.CACHE)){r.$.CACHE[t]={},r.$._CACHE[t]={};var e={},n={},f=s(t)?t.split("."):t;r.$.CACHE[t].val=C(r.context,f,e),r.$._CACHE[t].val=C(r._context,f,n),r.$.CACHE[t].existence=e.exists,r.$._CACHE[t].existence=n.exists,!1===l.diff||"diffing"in r.$.CACHE[t]||(r.$.CACHE[t].diffing=r.bubbling||r.$.CACHE[t].existence!==r.$._CACHE[t].existence||(o(r.$.CACHE[t].val)&&o(r.$._CACHE[t].val)?!O(r.$.CACHE[t].val,r.$._CACHE[t].val):r.$.CACHE[t].val!==r.$._CACHE[t].val))}a(l.pulse)&&r.context&&r._context&&(0===l.pulse&&r.$.CACHE[t].val&&!r.$._CACHE[t].val?u++:1===l.pulse&&!r.$.CACHE[t].val&&r.$._CACHE[t].val&&u++),(!1===l.diff||r.$.CACHE[t].diffing)&&i++}),!u&&i&&super._shouldFire(t,e,r)}_outgoing(t,e){l(e)&&(t in this.$.bubblers&&e.unobserve(this.$.bubblers[t],{allowBubbling:!0}),u(e.getOffsetParent)&&e.getOffsetParent()===this&&e.setOffsetParent(null))}_incoming(t,e){l(e)&&(e.observe(this._getBubbler(t),{allowBubbling:!0}),u(e.getOffsetParent)&&!e.getOffsetParent()&&e.setOffsetParent(this))}setOffsetParent(t){this.$.offsetParent=t}getOffsetParent(){return this.$.offsetParent}_getBubbler(t){return this.$.bubblers=this.$.bubblers||{},this.$.bubblers[t]=(e,r,n)=>{var s={};return s.context=this.$.state,s._context=this.$._state,s.entries=(n.entries||[]).slice(),s.exits=(n.exits||[]).slice(),s.bubbling=(n.bubbling?v(n.bubbling):Object.keys(e)).map(e=>t+"."+e),this.fire(t,s)},this.$.bubblers[t]}warn(t){console.error(t)}error(t){if(this.$.params.strictDebug)throw new Error(t);console.error(t)}proxy(){return g(this,{get:function(t,e){var r=t.get(e);return o(r)&&u(r.proxy)&&(r=r.proxy()),r},set:function(t,e,r){return t.set(e,r),!0},has:function(t,e){return t.has(e)},deleteProperty:function(t,e){return t.del(e)},ownKeys:function(t){return Object.keys(t.$.state)},defineProperty:function(t,e,r){return Object.defineProperty(t.$.state,e,r),t.set(e,t.$.state[e]),!0},getOwnPropertyDescriptor:function(t,e){return Object.getOwnPropertyDescriptor(t.$.state,e)},getOwnPropertySymbols:function(t){return Object.getOwnPropertySymbols(t.$.state)},getOwnPropertyNames:function(t){return Object.getOwnPropertyNames(t.$.state)}})}};j.params={methodPrefix:"$"};var w=j;window.OnePhrase||(window.OnePhrase={}),window.OnePhrase.Observable=w}]);
//# sourceMappingURL=main.js.map